{"version":3,"sources":["const.ts","types/action.ts","store/action.ts","store/api-actions.ts","store/reducer.ts","services/token.ts","utils.ts","adapters.ts","services/api.ts","browser-history.ts","store/middlewares/redirect.ts","components/header-nav/header-nav.tsx","components/header/header.tsx","components/home-tabs/home-tabs.tsx","components/home-empty/home-empty.tsx","hooks/use-map.ts","components/map/map.tsx","components/offer-item/offer-item.tsx","components/home-offers-sort/home-offers-sort.tsx","components/home-offers/home-offers.tsx","components/home-inner/home-inner.tsx","components/loading-screen/loading-screen.tsx","components/home/home.tsx","components/login/login.tsx","components/offer-detail-gallery/offer-detail-gallery.tsx","components/offer-detail-desc/offer-detail-desc.tsx","components/offer-detail-reviews-form/offer-detail-reviews-form.tsx","components/offer-detail-reviews/offer-detail-reviews.tsx","components/offer-detail-near/offer-detail-near.tsx","components/offer-detail/offer-detail.tsx","components/favorites-city-place/favorites-city-place.tsx","components/favorites-city/favorites-city.tsx","components/favorites-empty/favorites-empty.tsx","components/footer/footer.tsx","components/favorites/favorites.tsx","components/private-route/private-route.tsx","components/not-found-screen/not-found-screen.tsx","components/app/app.tsx","index.tsx"],"names":["AppRoute","FavoriteEventParam","AuthStatus","ActionType","SORT_TYPES","CITY_LIST","MONTH_NAMES","APIRoute","filterOffersAction","createAction","FilterOffers","filterOffersType","payload","sortOffersAction","SortOffers","sortOffersType","loadOfferList","LoadOfferList","offerList","loadOfferItem","LoadOfferItem","offerItem","loadNearList","LoadNearList","nearList","loadReviewList","LoadReviewList","reviewList","loadFavoriteList","LoadFavoriteList","favoriteList","requireAuth","RequireAuth","authStatus","requireLogout","RequireLogout","requireLogin","RequireLogin","user","redirectToRoute","RedirectToRoute","url","reviewMessageAction","ReviewMessageAction","reviewMessage","reviewRatingAction","ReviewRatingAction","reviewRating","reviewFormBlockingAction","ReviewFormBlockingAction","reviewFormIsBlocked","initialState","Unknown","isDataLoaded","img","name","isPro","reducer","createReducer","builder","addCase","state","action","AUTH_TOKEN_KEY_NAME","saveToken","token","localStorage","setItem","updateOfferList","offerId","isFeature","newOfferId","findIndex","item","id","newOfferItem","totalItem","slice","USER_DATA","getUserData","data","getItem","getOffer","string","toString","city","lat","location","latitude","lng","longitude","zoom","preview_image","gallery","images","price","stars","rating","title","type","charAt","toUpperCase","is_favorite","isPremium","is_premium","detail","bedrooms","maxAdults","max_adults","includes","goods","host","avatar_url","is_pro","description","adaptOfferList","map","HttpCode","ERROR_MESSAGE","checkAuthAction","dispatch","_getState","api","a","get","Login","Auth","fetchReviewListAction","ReviewList","text","comment","date","toast","info","postFavoriteListAction","page","getState","status","Number","post","FavoriteList","Favorites","favoriteId","newFavoriteList","Main","newOfferList","Near","newNearList","Offer","newOffer","browserHistory","createBrowserHistory","redirect","_store","next","push","HeaderNav","isAuthorized","isntAuthorized","NoAuth","JSON","parse","login","hasImg","useDispatch","className","to","src","alt","onClick","delete","Logout","removeItem","Header","useSelector","width","height","HomeTabs","activeClassName","evt","preventDefault","href","HomeEmpty","useMap","mapRef","useState","setMap","useEffect","current","instance","Map","center","layer","TileLayer","attribution","addLayer","defaultCustomIcon","Icon","iconUrl","iconSize","iconAnchor","currentCustomIcon","HomeMap","activeId","useRef","markerList","forEach","marker","Marker","setIcon","addTo","flyTo","scrollWheelZoom","disable","remove","style","ref","OfferItem","useLocation","featureClassName","Math","floor","generatePath","pathname","xlinkHref","HomeOffersSort","setActiveId","isOpen","setIsOpen","openClassName","method","tabIndex","i","onMouseEnter","onMouseLeave","HomeOffers","onItemHover","length","HomeInner","LoadingScreen","Home","OfferList","filteredOffers","filter","sortedOffers","sort","b","getSortOffers","hasOffers","emptyClassName","min","max","cityId","ceil","random","loginRef","passwordRef","onSubmit","passIsValid","hasLetters","match","hasNumbers","hasNoWhiteSpace","isLong","validatePass","value","mailIsValid","email","test","String","toLowerCase","userData","password","loginAction","stringify","placeholder","required","OfferDetailGallery","galleryList","key","OfferDetailDesc","onFavoriteClick","userProClassName","MARK_LIST","OfferDetailReviewsForm","params","useParams","tooShort","tooLong","isDisabled","postReviewAction","htmlFor","arr","numOfStars","Fragment","checked","disabled","onChange","parseInt","target","OfferDetailReviews","isAuth","dateInstance","Date","month","getMonth","year","getFullYear","dateISO","toISOString","dateTime","OfferDetailNear","OfferDetail","Error404","fetchNearListAction","hasOffer","hasNears","mapData","FavoritesCityPlace","FavoritesCity","places","FavoritesEmpty","Footer","cityNames","Set","add","cities","place","hasCities","PrivateRoute","exact","path","render","routeProps","NotFoundScreen","App","history","onUnauthorized","axios","create","baseURL","timeout","interceptors","response","use","error","Unauthorized","Promise","reject","request","config","getToken","headers","createAPI","store","configureStore","middleware","getDefaultMiddleware","thunk","extraArgument","concat","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bcab29c7.chunk.js","sourcesContent":["export enum AppRoute {\n  Main = '/six-cities/',\n  Login = '/six-cities/login',\n  Favorites = '/six-cities/favorites',\n  Offer = '/six-cities/offer/:id',\n  Error404 = '/six-cities/error404',\n}\n\nexport enum FavoriteEventParam {\n  Main = 'main',\n  Favorites = 'favorites',\n  Offer = 'offer',\n  Near = 'near',\n}\n\nexport enum AuthStatus {\n  Auth = 'AUTH',\n  NoAuth = 'NO_AUTH',\n  Unknown = 'UNKNOWN',\n}\n\nexport const SORT_TYPES: string[] = [\n  'Popular',\n  'Price: low to high',\n  'Price: high to low',\n  'Top rated first',\n];\nexport const CITY_LIST: string[] = ['Paris', 'Cologne', 'Brussels', 'Amsterdam', 'Hamburg', 'Dusseldorf'];\nexport const MONTH_NAMES: string[] = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n","import { Action } from 'redux';\nimport { ThunkAction, ThunkDispatch } from 'redux-thunk';\nimport { AxiosInstance } from 'axios';\nimport { State } from './types';\n\nexport enum ActionType {\n  SortOffers = 'main/sortOffers',\n  FilterOffers = 'main/filterOffers',\n  LoadOfferList = 'main/loadOfferList',\n  LoadOfferItem = 'detail/loadOfferItem',\n  LoadNearList = 'detail/loadNearList',\n  LoadReviewList = 'detail/loadReviewList',\n  ReviewMessageAction = 'reviewMessageAction',\n  ReviewRatingAction = 'reviewRatingAction',\n  ReviewFormBlockingAction = 'reviewFormBlockingAction',\n  LoadFavoriteList = 'favorite/loadFavoriteList',\n  RequireAuth = 'user/requireAuth',\n  RequireLogin = 'user/RequireLogout',\n  RequireLogout = 'user/RequireLogout',\n  RedirectToRoute = 'redirectToRoute',\n}\n\nexport type ThunkActionResult<R = Promise<void>> = ThunkAction<R, State, AxiosInstance, Action>;\nexport type ThunkAppDispatch = ThunkDispatch<State, AxiosInstance, Action>;\n","import { createAction } from '@reduxjs/toolkit';\nimport { ActionType } from '../types/action';\nimport { Offer, Review, User } from '../types/types';\nimport { AuthStatus, AppRoute } from '../const';\n\nexport const filterOffersAction = createAction(\n  ActionType.FilterOffers,\n  (filterOffersType: string) => ({\n    payload: {\n      filterOffersType,\n    },\n  }),\n);\n\nexport const sortOffersAction = createAction(\n  ActionType.SortOffers,\n  (sortOffersType: string) => ({\n    payload: {\n      sortOffersType,\n    },\n  }),\n);\n\nexport const loadOfferList = createAction(\n  ActionType.LoadOfferList,\n  (offerList: Offer[]) => ({\n    payload: {\n      offerList,\n    },\n  }),\n);\n\nexport const loadOfferItem = createAction(\n  ActionType.LoadOfferItem,\n  (offerItem: Offer) => ({\n    payload: {\n      offerItem,\n    },\n  }),\n);\n\nexport const loadNearList = createAction(\n  ActionType.LoadNearList,\n  (nearList: Offer[]) => ({\n    payload: {\n      nearList,\n    },\n  }),\n);\n\nexport const loadReviewList = createAction(\n  ActionType.LoadReviewList,\n  (reviewList: Review[]) => ({\n    payload: {\n      reviewList,\n    },\n  }),\n);\n\nexport const loadFavoriteList = createAction(\n  ActionType.LoadFavoriteList,\n  (favoriteList: Offer[]) => ({\n    payload: {\n      favoriteList,\n    },\n  }),\n);\n\nexport const requireAuth = createAction(\n  ActionType.RequireAuth,\n  (authStatus: AuthStatus) => ({\n    payload: authStatus,\n  }),\n);\n\nexport const requireLogout = createAction(ActionType.RequireLogout);\n\nexport const requireLogin = createAction(\n  ActionType.RequireLogin,\n  (user: User) => ({\n    payload: user,\n  }),\n);\n\nexport const redirectToRoute = createAction(\n  ActionType.RedirectToRoute,\n  (url: AppRoute) => ({\n    payload: url,\n  }),\n);\n\nexport const reviewMessageAction = createAction(\n  ActionType.ReviewMessageAction,\n  (reviewMessage: string) => ({\n    payload: reviewMessage,\n  }),\n);\n\nexport const reviewRatingAction = createAction(\n  ActionType.ReviewRatingAction,\n  (reviewRating: number) => ({\n    payload: reviewRating,\n  }),\n);\n\nexport const reviewFormBlockingAction = createAction(\n  ActionType.ReviewFormBlockingAction,\n  (reviewFormIsBlocked: boolean) => ({\n    payload: reviewFormIsBlocked,\n  }),\n);\n","import { toast } from 'react-toastify';\nimport { ThunkActionResult } from '../types/action';\nimport { AuthData, PostReview } from '../types/types';\nimport { saveToken, dropToken } from '../services/token';\nimport { adaptOfferItem, adaptOfferList, adaptReview, adaptUser } from '../adapters';\nimport { AuthStatus, AppRoute, FavoriteEventParam } from '../const';\nimport { Offer, Review } from '../types/types';\nimport { updateOfferList } from '../utils';\nimport {\n  loadOfferItem,\n  loadOfferList,\n  loadNearList,\n  loadReviewList,\n  loadFavoriteList,\n  requireAuth,\n  requireLogin,\n  requireLogout,\n  redirectToRoute,\n  reviewRatingAction,\n  reviewMessageAction,\n  reviewFormBlockingAction\n} from './action';\n\nexport enum APIRoute {\n  OfferList = '/hotels',\n  ReviewList = '/comments',\n  FavoriteList = '/favorite',\n  Login = '/login',\n  Logout = '/logout',\n}\n\nconst ERROR_MESSAGE = 'Что-то пошло не так';\n\nexport const checkAuthAction = (): ThunkActionResult =>\n  async (dispatch, _getState, api) => {\n    const data = await api.get(APIRoute.Login);\n    dispatch(requireLogin(adaptUser(data.data)));\n    dispatch(requireAuth(AuthStatus.Auth));\n  };\n\nexport const loginAction = ({login: email, password}: AuthData): ThunkActionResult =>\n  async (dispatch, _getState, api) => {\n    try {\n      const {data: {token}} = await api.post<{token: string}>(APIRoute.Login, {email, password});\n      dispatch(checkAuthAction());\n      dispatch(requireAuth(AuthStatus.Auth));\n      dispatch(redirectToRoute(AppRoute.Main));\n      saveToken(token);\n    } catch {\n      toast.info('Неверный логин или пароль. Возможно проблемы с сетью');\n    }\n  };\n\nexport const logoutAction = (): ThunkActionResult =>\n  async (dispatch, _getState, api) => {\n    try {\n      api.delete(APIRoute.Logout);\n      dropToken();\n      dispatch(requireLogin({\n        img: '',\n        name: '',\n        isPro: false,\n      }));\n      dispatch(requireLogout());\n      dispatch(requireAuth(AuthStatus.NoAuth));\n    } catch {\n      toast.info(ERROR_MESSAGE);\n    }\n  };\n\nexport const fetchOfferListAction = (): ThunkActionResult =>\n  async (dispatch, _getState, api): Promise<void> => {\n    try {\n      const {data} = await api.get<Offer[]>(APIRoute.OfferList);\n      dispatch(loadOfferList(adaptOfferList(data)));\n    } catch {\n      toast.info(ERROR_MESSAGE);\n    }\n  };\n\nexport const fetchOfferItemAction = (id: string): ThunkActionResult =>\n  async (dispatch, _getState, api): Promise<void> => {\n    try {\n      const {data} = await api.get<Offer>(`${APIRoute.OfferList}/${id}`);\n      dispatch(loadOfferItem(adaptOfferItem(data)));\n    } catch {\n      dispatch(redirectToRoute(AppRoute.Error404));\n    }\n  };\n\nexport const fetchNearListAction = (id: string): ThunkActionResult =>\n  async (dispatch, _getState, api): Promise<void> => {\n    try {\n      const {data} = await api.get<Offer[]>(`${APIRoute.OfferList}/${id}/nearby`);\n      dispatch(loadNearList(adaptOfferList(data)));\n    } catch {\n      toast.info(ERROR_MESSAGE);\n    }\n  };\n\nexport const fetchReviewListAction = (id: string): ThunkActionResult =>\n  async (dispatch, _getState, api): Promise<void> => {\n    try {\n      const {data} = await api.get<Review[]>(`${APIRoute.ReviewList}/${id}`);\n      dispatch(loadReviewList(adaptReview(data)));\n    } catch {\n      toast.info(ERROR_MESSAGE);\n    }\n  };\n\nexport const postReviewAction = (id: string, {comment, rating}: PostReview): ThunkActionResult =>\n  async (dispatch, _getState, api) => {\n    try {\n      await api.post(`${APIRoute.ReviewList}/${id}`, {comment, rating});\n      dispatch(fetchReviewListAction(id));\n      dispatch(reviewRatingAction(0));\n      dispatch(reviewMessageAction(''));\n      dispatch(reviewFormBlockingAction(false));\n    } catch (e) {\n      toast.info('Что-то пошло не так');\n      dispatch(reviewFormBlockingAction(false));\n    }\n  };\n\nexport const fetchFavoriteListAction = (): ThunkActionResult =>\n  async (dispatch, _getState, api): Promise<void> => {\n    try {\n      const {data} = await api.get<Offer[]>(APIRoute.FavoriteList);\n      dispatch(loadFavoriteList(adaptOfferList(data)));\n    } catch {\n      toast.info(ERROR_MESSAGE);\n    }\n  };\n\nexport const postFavoriteListAction = (id: string, isFeature: boolean, page: FavoriteEventParam): ThunkActionResult =>\n  async (dispatch, getState, api) => {\n    try {\n      const status = Number(!isFeature);\n\n      await api.post(`${APIRoute.FavoriteList}/${id}/${status}`);\n      const state = getState();\n\n      if (page === FavoriteEventParam.Favorites) {\n        const favoriteId = state.favoriteList.findIndex((item) => item.id === id);\n        const newFavoriteList = [...state.favoriteList];\n        dispatch(loadFavoriteList([...newFavoriteList.slice(0, favoriteId), ...newFavoriteList.slice(favoriteId + 1)]));\n      }\n\n      if (page === FavoriteEventParam.Main) {\n        const newOfferList = updateOfferList(id, !isFeature, state.offerList);\n        dispatch(loadOfferList(newOfferList));\n      }\n\n      if (page === FavoriteEventParam.Near) {\n        const newNearList = updateOfferList(id, !isFeature, state.nearList);\n        dispatch(loadNearList(newNearList));\n      }\n\n      if (page === FavoriteEventParam.Offer && state.offerItem !== null) {\n        const newOffer = {...state.offerItem};\n        newOffer.isFeature = !isFeature;\n        dispatch(loadOfferItem(newOffer));\n      }\n    } catch {\n      dispatch(redirectToRoute(AppRoute.Login));\n    }\n  };\n","import {createReducer} from '@reduxjs/toolkit';\nimport { AuthStatus, CITY_LIST, SORT_TYPES } from '../const';\nimport {\n  filterOffersAction,\n  sortOffersAction,\n  loadOfferList,\n  loadOfferItem,\n  loadNearList,\n  loadReviewList,\n  loadFavoriteList,\n  requireLogin,\n  requireAuth,\n  reviewMessageAction,\n  reviewRatingAction,\n  reviewFormBlockingAction\n} from './action';\nimport { State } from '../types/types';\n\nconst initialState: State = {\n  authStatus: AuthStatus.Unknown,\n  isDataLoaded: false,\n  reviewMessage: '',\n  reviewRating: 0,\n  reviewFormIsBlocked: false,\n  filterOffersType: CITY_LIST[0],\n  sortOffersType: SORT_TYPES[0],\n  offerList: [],\n  offerItem: null,\n  nearList: [],\n  reviewList: [],\n  favoriteList: [],\n  user: {\n    img: '',\n    name: '',\n    isPro: false,\n  },\n};\n\nconst reducer = createReducer(initialState, (builder) => {\n  builder\n    .addCase(filterOffersAction, (state, action) => {\n      const {filterOffersType} = action.payload;\n      state.filterOffersType = filterOffersType;\n    })\n    .addCase(sortOffersAction, (state, action) => {\n      const {sortOffersType} = action.payload;\n      state.sortOffersType = sortOffersType;\n    })\n    .addCase(loadOfferList, (state, action) => {\n      const {offerList} = action.payload;\n      state.offerList = offerList;\n      state.isDataLoaded = true;\n    })\n    .addCase(loadOfferItem, (state, action) => {\n      const {offerItem} = action.payload;\n      state.offerItem = offerItem;\n    })\n    .addCase(loadNearList, (state, action) => {\n      const {nearList} = action.payload;\n      state.nearList = nearList;\n    })\n    .addCase(loadReviewList, (state, action) => {\n      const {reviewList} = action.payload;\n      state.reviewList = reviewList;\n    })\n    .addCase(loadFavoriteList, (state, action) => {\n      const {favoriteList} = action.payload;\n      state.favoriteList = favoriteList;\n    })\n    .addCase(requireAuth, (state, action) => {\n      state.authStatus = action.payload;\n    })\n    .addCase(requireLogin, (state, action) => {\n      state.user = action.payload;\n    })\n    .addCase(reviewMessageAction, (state, action) => {\n      state.reviewMessage = action.payload;\n    })\n    .addCase(reviewRatingAction, (state, action) => {\n      state.reviewRating = action.payload;\n    })\n    .addCase(reviewFormBlockingAction, (state, action) => {\n      state.reviewFormIsBlocked = action.payload;\n    });\n});\n\nexport {reducer};\n","const AUTH_TOKEN_KEY_NAME = 'token';\n\nexport const getToken = (): string => {\n  const token = localStorage.getItem(AUTH_TOKEN_KEY_NAME);\n  return token ?? '';\n};\n\nexport const saveToken = (token: string): void => {\n  localStorage.setItem(AUTH_TOKEN_KEY_NAME, token);\n};\n\nexport const dropToken = (): void => {\n  localStorage.removeItem(AUTH_TOKEN_KEY_NAME);\n};\n","import { Offer } from './types/types';\n\nexport const getSortOffers = (data: Offer[], type: string) => {\n  switch (type) {\n    case 'Price: low to high':\n      return data.slice().sort((a: Offer, b: Offer) => a.price - b.price);\n    case 'Price: high to low':\n      return data.slice().sort((a: Offer, b: Offer) => b.price - a.price);\n    case 'Top rated first':\n      return data.slice().sort((a: Offer, b: Offer) => b.stars - a.stars);\n    default:\n      return data;\n  }\n};\n\nexport const updateOfferList = (offerId: string, isFeature: boolean, offerList: Offer[]) => {\n  const newOfferId = offerList.findIndex((item) => item.id === offerId);\n  const newOfferItem = [...offerList][newOfferId];\n  const totalItem = {\n    ...newOfferItem,\n    isFeature: isFeature,\n  };\n  return [...offerList.slice(0, newOfferId), totalItem, ...offerList.slice(newOfferId + 1)];\n};\n\nexport const capitalizeFirstLetter = (string: string) => string.charAt(0).toUpperCase() + string.slice(1);\n\nexport const getRandomInt = (min: number, max: number) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n\nconst USER_DATA = 'user-data';\nexport const getUserData = (): string => {\n  const data = localStorage.getItem(USER_DATA);\n  return data ?? '';\n};\nexport const setUserData = (data: string): void => {\n  localStorage.setItem(USER_DATA, data);\n};\nexport const removeUserData = (): void => {\n  localStorage.removeItem(USER_DATA);\n};\n\nexport const validatePass = (text: string) => {\n  const letters = /[A-Za-z]/g;\n  const hasLetters = text.match(letters);\n\n  const numbers = /[0-9]/g;\n  const hasNumbers = text.match(numbers);\n\n  const whiteSpace = /[\\s]/g;\n  const hasNoWhiteSpace = !text.match(whiteSpace);\n\n  const isLong = text.length >= 2;\n\n  return hasLetters && hasNumbers && hasNoWhiteSpace && isLong;\n};\n\nexport const validateMail = (email: string) => {\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n};\n","import { Offer, Review, User } from './types/types';\nimport { capitalizeFirstLetter } from './utils';\n\nconst getOffer = (item: any) => {\n  const offer = {\n    id: item.id.toString() || '',\n    city: {\n      name: item.city.name || '',\n      lat: item.city.location.latitude,\n      lng: item.city.location.longitude,\n      zoom: item.city.location.zoom,\n    },\n    location: {\n      lat: item.location.latitude,\n      lng: item.location.longitude,\n      zoom: item.location.zoom,\n    },\n    img: item.preview_image || '',\n    gallery: item.images || [],\n    price: item.price,\n    stars: item.rating,\n    name: item.title || '',\n    type: capitalizeFirstLetter(item.type) || '',\n    isFeature: item.is_favorite || false,\n    isPremium: item.is_premium || false,\n    detail: {\n      bedrooms: item.bedrooms,\n      maxAdults: item.max_adults,\n      includes: item.goods,\n      user: {\n        img: item.host.avatar_url || '',\n        name: item.host.name || '',\n        isPro: item.host.is_pro || false,\n      },\n      description: item.description || '',\n    },\n  };\n\n  return offer;\n};\n\nexport const adaptOfferItem = (item: any): Offer => getOffer(item);\n\nexport const adaptOfferList = (offerList: any[]): Offer[] => offerList.map((item) => getOffer(item));\n\nexport const adaptReview = (reviewList: any[]): Review[] => reviewList.map((item) => {\n  const review = {\n    id: item.id,\n    stars: item.rating,\n    text: item.comment,\n    date: item.date,\n    user: {\n      img: item.user.avatar_url,\n      name: item.user.name,\n      isPro: item.user.is_pro,\n    },\n  };\n\n  return review;\n});\n\nexport const adaptUser = (item: any): User => {\n  const user = {\n    img: item.avatar_url,\n    name: item.name,\n    isPro: item.is_pro,\n  };\n  return user;\n};\n","import axios, { AxiosInstance, AxiosRequestConfig, AxiosResponse, AxiosError } from 'axios';\nimport { getToken } from './token';\n\nconst BACKEND_URL = 'https://8.react.pages.academy/six-cities';\nconst REQUEST_TIMEOUT = 5000;\n\nenum HttpCode {\n  Unauthorized = 401,\n}\n\ntype UnauthorizedCallback = () => void;\n\nexport const createAPI = (onUnauthorized: UnauthorizedCallback): AxiosInstance => {\n  const api = axios.create({\n    baseURL: BACKEND_URL,\n    timeout: REQUEST_TIMEOUT,\n  });\n\n  api.interceptors.response.use(\n    (response: AxiosResponse) => response,\n\n    (error: AxiosError) => {\n      const {response} = error;\n\n      if (response?.status === HttpCode.Unauthorized) {\n        onUnauthorized();\n      }\n\n      return Promise.reject(error);\n    },\n  );\n\n  api.interceptors.request.use(\n    (config: AxiosRequestConfig) => {\n      const token = getToken();\n\n      if (token) {\n        config.headers['x-token'] = token;\n      }\n\n      return config;\n    },\n  );\n\n  return api;\n};\n","import {createBrowserHistory} from 'history';\n\nconst browserHistory = createBrowserHistory();\n\nexport default browserHistory;\n","import browserHistory from '../../browser-history';\nimport { Middleware } from 'redux';\nimport { reducer } from '../reducer';\nimport { ActionType } from '../../types/action';\n\ntype Reducer = ReturnType<typeof reducer>;\n\nexport const redirect: Middleware<unknown, Reducer> =\n  (_store) =>\n    (next) =>\n      (action) => {\n\n        if (action.type === ActionType.RedirectToRoute) {\n          browserHistory.push(action.payload);\n        }\n\n        return next(action);\n      };\n","import { Link } from 'react-router-dom';\nimport { AuthStatus, AppRoute } from '../../const';\nimport { User } from '../../types/types';\nimport { useDispatch } from 'react-redux';\nimport { logoutAction } from '../../store/api-actions';\nimport { getUserData, removeUserData } from '../../utils';\n\ntype Props = {\n  authStatus: AuthStatus;\n  user: User;\n}\n\nfunction HeaderNav({authStatus, user}: Props): JSX.Element {\n  const isAuthorized = authStatus === AuthStatus.Auth;\n  const isntAuthorized = authStatus === AuthStatus.NoAuth;\n  const userData = getUserData();\n  let name = '';\n  if (userData) {\n    name = JSON.parse(getUserData()).login;\n  }\n  const hasImg = user?.img !== '';\n  const dispatch = useDispatch();\n\n  return (\n    <nav className=\"header__nav\">\n      {\n        isAuthorized && (\n          <ul className=\"header__nav-list\">\n            <li className=\"header__nav-item user\">\n              <Link className=\"header__nav-link header__nav-link--profile\" to={AppRoute.Favorites}>\n                <div className=\"header__avatar-wrapper user__avatar-wrapper\">\n                  {hasImg && (\n                    <img className=\"user__avatar\" src={user?.img} alt=\"Юзерпик пользователя\" />\n                  )}\n                </div>\n                <span className=\"header__user-name user__name\">{name}</span>\n              </Link>\n            </li>\n            <li className=\"header__nav-item\">\n              <Link\n                className=\"header__nav-link\"\n                onClick={() => {\n                  dispatch(logoutAction());\n                  removeUserData();\n                }}\n                to={AppRoute.Login}\n              >\n                <span className=\"header__signout\">Sign out</span>\n              </Link>\n            </li>\n          </ul>\n        )\n      }\n      {\n        isntAuthorized && (\n          <ul className=\"header__nav-list\">\n            <li className=\"header__nav-item user\">\n              <Link className=\"header__nav-link header__nav-link--profile\" to={AppRoute.Login}>\n                <div className=\"header__avatar-wrapper user__avatar-wrapper\"></div>\n                <span className=\"header__login\">Sign in</span>\n              </Link>\n            </li>\n          </ul>\n        )\n      }\n    </nav>\n  );\n}\n\nexport default HeaderNav;\n","import { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { State } from '../../types/types';\nimport { AuthStatus, AppRoute } from '../../const';\n\nimport HeaderNav from '../header-nav/header-nav';\n\nfunction Header(): JSX.Element {\n  const {authStatus, user} = useSelector((state: State) => state);\n\n  return (\n    <header className=\"header\">\n      <div className=\"container\">\n        <div className=\"header__wrapper\">\n          <div className=\"header__left\">\n            <Link className=\"header__logo-link\" to={AppRoute.Main}>\n              <img className=\"header__logo\" src=\"img/logo.svg\" alt=\"6 cities logo\" width=\"81\" height=\"41\" />\n            </Link>\n          </div>\n          {\n            authStatus !== AuthStatus.Unknown && (\n              <HeaderNav authStatus={authStatus} user={user} />\n            )\n          }\n        </div>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import { useDispatch, useSelector } from 'react-redux';\nimport { filterOffersAction, sortOffersAction} from '../../store/action';\nimport { State } from '../../types/types';\nimport { CITY_LIST, SORT_TYPES } from '../../const';\n\n\nfunction HomeTabs(): JSX.Element {\n  const dispatch = useDispatch();\n  const {filterOffersType} = useSelector((state: State) => state);\n\n  return (\n    <div className=\"tabs\">\n      <section className=\"locations container\">\n        <ul className=\"locations__list tabs__list\">\n          {CITY_LIST.map((item) => {\n            const activeClassName = (item === filterOffersType) ? ' tabs__item--active' : '';\n\n            return(\n              <li key={item} className=\"locations__item\">\n                <a\n                  onClick={(evt) => {\n                    evt.preventDefault();\n                    dispatch(filterOffersAction(item));\n                    dispatch(sortOffersAction(SORT_TYPES[0]));\n                  }}\n                  className={`locations__item-link tabs__item${activeClassName}`}\n                  href=\"#\"\n                >\n                  <span>{item}</span>\n                </a>\n              </li>\n            );\n          })}\n        </ul>\n      </section>\n    </div>\n  );\n}\n\nexport default HomeTabs;\n","function HomeEmpty(): JSX.Element {\n  return (\n    <div className=\"cities\">\n      <div className=\"cities__places-container cities__places-container--empty container\">\n        <section className=\"cities__no-places\">\n          <div className=\"cities__status-wrapper tabs__content\">\n            <b className=\"cities__status\">No places to stay available</b>\n            <p className=\"cities__status-description\">We could not find any property available at the moment in Dusseldorf</p>\n          </div>\n        </section>\n        <div className=\"cities__right-section\"></div>\n      </div>\n    </div>\n  );\n}\n\nexport default HomeEmpty;\n","import { useEffect, useState, MutableRefObject } from 'react';\nimport { Map, TileLayer } from 'leaflet';\nimport { City } from '../types/types';\n\nfunction useMap(\n  mapRef: MutableRefObject<HTMLElement | null>,\n  city: City,\n): Map | null {\n  const [map, setMap] = useState<Map | null>(null);\n\n  useEffect(() => {\n    if (mapRef.current !== null && map === null) {\n      const instance = new Map(mapRef.current, {\n        center: {\n          lat: city.lat,\n          lng: city.lng,\n        },\n        zoom: 10,\n      });\n\n      const layer = new TileLayer(\n        'https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png',\n        {\n          attribution:\n            '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>',\n        },\n      );\n\n      instance.addLayer(layer);\n\n      setMap(instance);\n    }\n  }, [mapRef, map, city]);\n\n  return map;\n}\n\nexport default useMap;\n","import { useRef, useEffect } from 'react';\nimport { Icon, Marker } from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport useMap from '../../hooks/use-map';\nimport { Offer, City } from '../../types/types';\n\nconst defaultCustomIcon = new Icon({\n  iconUrl: 'img/pin.svg',\n  iconSize: [27, 39],\n  iconAnchor: [20, 40],\n});\nconst currentCustomIcon = new Icon({\n  iconUrl: 'img/pin-active.svg',\n  iconSize: [27, 39],\n  iconAnchor: [20, 40],\n});\n\ntype Props = {\n  city: City,\n  activeId?: string | null;\n  data: Offer[];\n};\n\nfunction HomeMap({city, activeId, data}: Props): JSX.Element {\n  const mapRef = useRef(null);\n  const map = useMap(mapRef, city);\n\n  useEffect(() => {\n    if (map) {\n      const markerList: Marker[] = [];\n\n      data.forEach((item) => {\n        const marker = new Marker({\n          lat: item.location.lat,\n          lng: item.location.lng,\n        });\n\n        marker\n          .setIcon(\n            activeId !== null && item.id === activeId\n              ? currentCustomIcon\n              : defaultCustomIcon,\n          )\n          .addTo(map);\n\n        markerList.push(marker);\n      });\n\n      map.flyTo([city.lat, city.lng], 12);\n      map.scrollWheelZoom.disable();\n\n      return () => {\n        markerList.forEach((item) => {\n          item.remove();\n        });\n      };\n    }\n  }, [map, data, activeId]);\n\n  return <div className=\"map\" style={{height: '100%'}} ref={mapRef}></div>;\n}\n\nexport default HomeMap;\n","import { Link, generatePath } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { postFavoriteListAction } from '../../store/api-actions';\nimport { Offer } from '../../types/types';\nimport { AppRoute, FavoriteEventParam } from '../../const';\nimport { useLocation } from 'react-router-dom';\n\ntype Props = {\n  data: Offer;\n}\n\nfunction OfferItem({data}: Props): JSX.Element {\n  const location = useLocation();\n\n  const {id} = data;\n  const dispatch = useDispatch();\n  const featureClassName = data.isFeature ? ' place-card__bookmark-button--active' : '';\n  const stars = `${Math.floor(data.stars) * 20}%`;\n  const handleClick = () => {\n    if (location.pathname === AppRoute.Main) {\n      dispatch(postFavoriteListAction(id, data.isFeature, FavoriteEventParam.Main));\n    } else {\n      dispatch(postFavoriteListAction(id, data.isFeature, FavoriteEventParam.Near));\n    }\n  };\n\n  return (\n    <article className=\"place-card\">\n      {\n        data.isPremium && (\n          <div className=\"place-card__mark\">\n            <span>Premium</span>\n          </div>\n        )\n      }\n      <div className=\"cities__image-wrapper place-card__image-wrapper\">\n        <Link to={generatePath(AppRoute.Offer, {id})}>\n          <img className=\"place-card__image\" src={data.img} width=\"260\" height=\"200\" alt=\"Offer image\" />\n        </Link>\n      </div>\n      <div className=\"place-card__info\">\n        <div className=\"place-card__price-wrapper\">\n          <div className=\"place-card__price\">\n            <b className=\"place-card__price-value\">&euro;{data.price}</b>\n            <span className=\"place-card__price-text\">&#47;&nbsp;night</span>\n          </div>\n          <button\n            className={`place-card__bookmark-button button${featureClassName}`}\n            type=\"button\"\n            onClick={handleClick}\n          >\n            <svg className=\"place-card__bookmark-icon\" width=\"18\" height=\"19\">\n              <use xlinkHref=\"#icon-bookmark\"></use>\n            </svg>\n            <span className=\"visually-hidden\">In bookmarks</span>\n          </button>\n        </div>\n        <div className=\"place-card__rating rating\">\n          <div className=\"place-card__stars rating__stars\">\n            <span style={{width: stars}}></span>\n            <span className=\"visually-hidden\">Rating</span>\n          </div>\n        </div>\n        <h2 className=\"place-card__name\">\n          <Link to={generatePath(AppRoute.Offer, {id})}>\n            {data.name}\n          </Link>\n        </h2>\n        <p className=\"place-card__type\">{data.type}</p>\n      </div>\n    </article>\n  );\n}\n\nexport default OfferItem;\n","import { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { sortOffersAction } from '../../store/action';\nimport { SORT_TYPES } from '../../const';\nimport { State } from '../../types/types';\n\n\nfunction HomeOffersSort(): JSX.Element {\n  const {sortOffersType} = useSelector((state: State) => state);\n  const dispatch = useDispatch();\n  const [activeId, setActiveId] = useState<number | null>(null);\n  const [isOpen, setIsOpen] = useState<boolean>(false);\n  const activeClassName = (id: number) => `places__option${(activeId === id) ? ' places__option--active' : ''}`;\n  const openClassName = `places__options places__options--custom${(isOpen) ? ' places__options--opened' : ''}`;\n\n  return (\n    <form className=\"places__sorting\" action=\"#\" method=\"get\">\n      <span className=\"places__sorting-caption\">Sort by </span>\n      <span\n        className=\"places__sorting-type\"\n        tabIndex={0}\n        onClick={() => {setIsOpen(!isOpen);}}\n      >\n        {sortOffersType}\n        <svg className=\"places__sorting-arrow\" width=\"7\" height=\"4\">\n          <use xlinkHref=\"#icon-arrow-select\"></use>\n        </svg>\n      </span>\n      <ul className={openClassName}>\n        {SORT_TYPES.map((item, i) =>\n          (\n            <li\n              key={item}\n              className={activeClassName(i)}\n              tabIndex={0}\n              onClick={() => {\n                dispatch(sortOffersAction(item));\n                setIsOpen(false);\n              }}\n              onMouseEnter={() => {setActiveId(i);}}\n              onMouseLeave={() => {setActiveId(null);}}\n            >\n              {item}\n            </li>\n          ),\n        )}\n      </ul>\n    </form>\n  );\n}\n\nexport default HomeOffersSort;\n","import { Offer } from '../../types/types';\nimport OfferItem from '../offer-item/offer-item';\nimport HomeOffersSort from '../home-offers-sort/home-offers-sort';\n\ntype Props = {\n  data: Offer[];\n  onItemHover: (id: string | null) => void;\n}\n\nfunction HomeOffers({data, onItemHover}: Props): JSX.Element {\n  return (\n    <section className=\"cities__places places\">\n      <h2 className=\"visually-hidden\">Places</h2>\n      <b className=\"places__found\">{data.length} places to stay in {data[0].city.name}</b>\n      <HomeOffersSort />\n\n      <div className=\"cities__places-list places__list tabs__content\">\n        {data.map((item) => (\n          <div\n            key={item.id}\n            className=\"cities__place-card\"\n            onMouseEnter={() => {\n              onItemHover(item.id);\n            }}\n            onMouseLeave={() => {\n              onItemHover(null);\n            }}\n          >\n            <OfferItem data={item} />\n          </div>\n        ))}\n      </div>\n    </section>\n  );\n}\n\nexport default HomeOffers;\n","import { useState } from 'react';\nimport { Offer } from '../../types/types';\nimport Map from '../map/map';\nimport HomeOffers from '../home-offers/home-offers';\n\ntype Props = {\n  data: Offer[];\n}\n\nfunction HomeInner({data}: Props): JSX.Element {\n  const [activeId, setActiveId] = useState<string | null>(null);\n  const handleItemHover = (id: string | null) => {\n    setActiveId(id);\n  };\n\n  return (\n    <div className=\"cities\">\n      <div className=\"cities__places-container container\">\n        <HomeOffers\n          data={data}\n          onItemHover={handleItemHover}\n        />\n        <div className=\"cities__right-section\">\n          <section className=\"cities__map\">\n            <Map\n              city={data[0].city}\n              data={data}\n              activeId={activeId}\n            />\n          </section>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default HomeInner;\n","function LoadingScreen(): JSX.Element {\n  return (\n    <main className=\"page__main\">\n      <p className=\"container\">Loading ...</p>\n    </main>\n  );\n}\n\nexport default LoadingScreen;\n","import { State } from '../../types/types';\nimport { getSortOffers } from '../../utils';\nimport { fetchOfferListAction } from '../../store/api-actions';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport Header from '../header/header';\nimport HomeTabs from '../home-tabs/home-tabs';\nimport HomeEmpty from '../home-empty/home-empty';\nimport HomeInner from '../home-inner/home-inner';\nimport LoadingScreen from '../loading-screen/loading-screen';\n\nfunction Home(): JSX.Element {\n  const {isDataLoaded, offerList, filterOffersType, sortOffersType} = useSelector((state: State) => state);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchOfferListAction());\n  }, [dispatch]);\n\n  const filteredOffers = offerList.filter((item) => item.city.name === filterOffersType);\n  const sortedOffers = getSortOffers(filteredOffers, sortOffersType);\n  const hasOffers = filteredOffers.length > 0;\n  const emptyClassName = hasOffers ? '' : ' page__main--index-empty';\n\n  return (\n    <div className=\"page page--gray page--main\">\n      <Header />\n      {\n        isDataLoaded ? (\n          <main className={`page__main page__main--index${emptyClassName}`}>\n            <h1 className=\"visually-hidden\">Cities</h1>\n            <HomeTabs />\n            {\n              hasOffers ? (\n                <HomeInner data={sortedOffers} />\n              ) : (\n                <HomeEmpty />\n              )\n            }\n          </main>\n        ) : (\n          <LoadingScreen />\n        )\n      }\n    </div>\n  );\n}\n\nexport default Home;\n","import { useRef, FormEvent } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { AppRoute } from '../../const';\nimport { loginAction } from '../../store/api-actions';\nimport { filterOffersAction } from '../../store/action';\nimport { getRandomInt } from '../../utils';\nimport { setUserData } from '../../utils';\nimport { CITY_LIST } from '../../const';\n\nimport { toast } from 'react-toastify';\nimport { validatePass, validateMail } from '../../utils';\nimport Header from '../header/header';\n\nfunction Login(): JSX.Element {\n  const dispatch = useDispatch();\n  const handleSubmit = (evt: FormEvent<HTMLFormElement>) => {\n    evt.preventDefault();\n\n    if (loginRef.current !== null && passwordRef.current !== null) {\n      const passIsValid = validatePass(passwordRef.current.value);\n      const mailIsValid = validateMail(loginRef.current.value);\n      if (!passIsValid) {\n        toast.info('Пароль должен состоять минимум из одной буквы и цифры');\n      }\n      if (!mailIsValid) {\n        toast.info('Невалидный e-mail');\n      }\n      if (!mailIsValid || !passIsValid) {\n        return;\n      }\n      const userData = {\n        login: loginRef.current.value,\n        password: passwordRef.current.value,\n      };\n      dispatch(loginAction(userData));\n      setUserData(JSON.stringify(userData));\n    }\n  };\n  const cityId = getRandomInt(0, CITY_LIST.length - 1);\n  const city = CITY_LIST[cityId];\n\n  const loginRef = useRef<HTMLInputElement | null>(null);\n  const passwordRef = useRef<HTMLInputElement | null>(null);\n\n  return (\n    <div className=\"page page--gray page--login\">\n      <Header />\n\n      <main className=\"page__main page__main--login\">\n        <div className=\"page__login-container container\">\n          <section className=\"login\">\n            <h1 className=\"login__title\">Sign in</h1>\n            <form\n              className=\"login__form form\"\n              action=\"#\"\n              method=\"post\"\n              onSubmit={handleSubmit}\n            >\n              <div className=\"login__input-wrapper form__input-wrapper\">\n                <label className=\"visually-hidden\">E-mail</label>\n                <input\n                  ref={loginRef}\n                  className=\"login__input form__input\"\n                  type=\"email\"\n                  name=\"email\"\n                  placeholder=\"Email\"\n                  required\n                />\n              </div>\n              <div className=\"login__input-wrapper form__input-wrapper\">\n                <label className=\"visually-hidden\">Password</label>\n                <input\n                  ref={passwordRef}\n                  className=\"login__input form__input\"\n                  type=\"password\"\n                  name=\"password\"\n                  placeholder=\"Password\"\n                  required\n                />\n              </div>\n              <button className=\"login__submit form__submit button\" type=\"submit\">Sign in</button>\n            </form>\n          </section>\n          <section className=\"locations locations--login locations--current\">\n            <div className=\"locations__item\">\n              <Link\n                className=\"locations__item-link\"\n                to={AppRoute.Main}\n                onClick={() => {dispatch(filterOffersAction(city));}}\n              >\n                <span>{city}</span>\n              </Link>\n            </div>\n          </section>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default Login;\n","type Props = {\n  data: string[],\n}\n\nfunction OfferDetailGallery({data}:Props): JSX.Element {\n  const galleryList = data.length > 6 ? data.slice(0, 6) : data;\n\n  return (\n    <div className=\"property__gallery-container container\">\n      <div className=\"property__gallery\">\n        {galleryList.map((item, i) => {\n          const key = i;\n          return (\n            <div key={item + key} className=\"property__image-wrapper\">\n              <img className=\"property__image\" src={item} alt=\"Photo studio\" />\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nexport default OfferDetailGallery;\n","import { Offer } from '../../types/types';\n\ntype Props = {\n  onFavoriteClick: () => void;\n  data: Offer;\n}\n\nfunction OfferDetailDesc({onFavoriteClick, data}:Props): JSX.Element {\n  const featureClassName = data.isFeature ? ' property__bookmark-button--active' : '';\n  const userProClassName = data.detail.user.isPro ? ' property__avatar-wrapper--pro' : '';\n  const stars = `${Math.floor(data.stars) * 20}%`;\n\n  return (\n    <>\n      {\n        data.isPremium && (\n          <div className=\"property__mark\">\n            <span>Premium</span>\n          </div>\n        )\n      }\n      <div className=\"property__name-wrapper\">\n        <h1 className=\"property__name\">\n          {data.name}\n        </h1>\n        <button\n          className={`property__bookmark-button button${featureClassName}`}\n          type=\"button\"\n          onClick={onFavoriteClick}\n        >\n          <svg className=\"property__bookmark-icon\" width=\"31\" height=\"33\">\n            <use xlinkHref=\"#icon-bookmark\"></use>\n          </svg>\n          <span className=\"visually-hidden\">To bookmarks</span>\n        </button>\n      </div>\n      <div className=\"property__rating rating\">\n        <div className=\"property__stars rating__stars\">\n          <span style={{width: stars}}></span>\n          <span className=\"visually-hidden\">Rating</span>\n        </div>\n        <span className=\"property__rating-value rating__value\">{data.stars}</span>\n      </div>\n      <ul className=\"property__features\">\n        <li className=\"property__feature property__feature--entire\">\n          {data.type}\n        </li>\n        <li className=\"property__feature property__feature--bedrooms\">\n          {data.detail.bedrooms} Bedrooms\n        </li>\n        <li className=\"property__feature property__feature--adults\">\n          Max {data.detail.maxAdults} adults\n        </li>\n      </ul>\n      <div className=\"property__price\">\n        <b className=\"property__price-value\">&euro;{data.price}</b>\n        <span className=\"property__price-text\">&nbsp;night</span>\n      </div>\n      <div className=\"property__inside\">\n        <h2 className=\"property__inside-title\">What&apos;s inside</h2>\n        <ul className=\"property__inside-list\">\n          {data.detail.includes.map((item)=> (\n            <li key={item} className=\"property__inside-item\">\n              {item}\n            </li>\n          ))}\n        </ul>\n      </div>\n      <div className=\"property__host\">\n        <h2 className=\"property__host-title\">Meet the host</h2>\n        <div className=\"property__host-user user\">\n          <div className={`property__avatar-wrapper user__avatar-wrapper${userProClassName}`}>\n            <img className=\"property__avatar user__avatar\" src={data.detail.user.img} width=\"74\" height=\"74\" alt=\"Host avatar\" />\n          </div>\n          <span className=\"property__user-name\">\n            {data.detail.user.name}\n          </span>\n          {\n            data.detail.user.isPro && (\n              <span className=\"property__user-status\">\n                Pro\n              </span>\n            )\n          }\n        </div>\n        <div className=\"property__description\">\n          <p className=\"property__text\">\n            {data.detail.description}\n          </p>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default OfferDetailDesc;\n","import React from 'react';\nimport { State } from '../../types/types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router';\nimport { postReviewAction } from '../../store/api-actions';\nimport { reviewMessageAction, reviewRatingAction, reviewFormBlockingAction } from '../../store/action';\n\nconst MARK_LIST = [\n  'perfect',\n  'good',\n  'not bad',\n  'badly',\n  'terribly',\n];\n\nfunction OfferDetailReviewsForm(): JSX.Element {\n  const dispatch = useDispatch();\n  const params: {id: string} = useParams();\n  const {reviewMessage, reviewRating, reviewFormIsBlocked} = useSelector((state: State) => state);\n\n  const handleSubmit = (evt: React.FormEvent<HTMLFormElement>) => {\n    evt.preventDefault();\n    dispatch(postReviewAction(params.id, {comment: reviewMessage, rating: reviewRating}));\n    dispatch(reviewFormBlockingAction(true));\n  };\n\n  const tooShort = reviewMessage.length < 50;\n  const tooLong = reviewMessage.length >= 300;\n  const hasntStars = reviewRating === 0;\n  const isDisabled = tooShort || tooLong || hasntStars || reviewFormIsBlocked;\n\n  return (\n    <form\n      className=\"reviews__form form\"\n      action=\"#\"\n      method=\"post\"\n      onSubmit={handleSubmit}\n    >\n      <label className=\"reviews__label form__label\" htmlFor=\"review\">Your review</label>\n      <div className=\"reviews__rating-form form__rating\">\n        {\n          MARK_LIST.map((item, i, arr) => {\n            const numOfStars = arr.length-i;\n\n            return (\n              <React.Fragment key={item}>\n                <input\n                  className=\"form__rating-input visually-hidden\"\n                  name=\"rating\"\n                  value={numOfStars}\n                  id={`${numOfStars}-stars`}\n                  type=\"radio\"\n                  checked={numOfStars === reviewRating}\n                  disabled={reviewFormIsBlocked}\n                  required\n                  onChange={(evt)=>{\n                    dispatch(reviewRatingAction(parseInt(evt.target.value, 10)));\n                  }}\n                />\n                <label htmlFor={`${numOfStars}-stars`} className=\"reviews__rating-label form__rating-label\" title={item}>\n                  <svg className=\"form__star-image\" width=\"37\" height=\"33\">\n                    <use xlinkHref=\"#icon-star\"></use>\n                  </svg>\n                </label>\n              </React.Fragment>\n            );\n          })\n        }\n      </div>\n      <textarea\n        className=\"reviews__textarea form__textarea\"\n        name=\"review\"\n        value={reviewMessage}\n        id=\"review\"\n        placeholder=\"Tell how was your stay, what you like and what can be improved\"\n        disabled={reviewFormIsBlocked}\n        onChange={(evt)=>{\n          dispatch(reviewMessageAction(evt.target.value));\n        }}\n      />\n      <div className=\"reviews__button-wrapper\">\n        <p className=\"reviews__help\">\n          To submit review please make sure to set <span className=\"reviews__star\">rating</span> and describe your stay with at least <b className=\"reviews__text-amount\">50 characters</b>.\n        </p>\n        <button\n          className=\"reviews__submit form__submit button\"\n          type=\"submit\"\n          disabled={isDisabled}\n        >\n          Submit\n        </button>\n      </div>\n    </form>\n  );\n}\n\nexport default OfferDetailReviewsForm;\n","import { Review } from '../../types/types';\nimport { AuthStatus, MONTH_NAMES } from '../../const';\nimport OfferDetailReviewsForm from '../offer-detail-reviews-form/offer-detail-reviews-form';\n\ntype Props = {\n  authStatus: AuthStatus;\n  data: Review[];\n}\n\nfunction OfferDetailReviews({authStatus, data}: Props): JSX.Element {\n  const isAuth = authStatus === AuthStatus.Auth;\n  const length = data.length > 10 ? 10 : data.length;\n  const MAX_REVIEWS = 10;\n\n  return (\n    <section className=\"property__reviews reviews\">\n      <h2 className=\"reviews__title\">Reviews &middot; <span className=\"reviews__amount\">{length}</span></h2>\n      <ul className=\"reviews__list\">\n        {[...data]\n          .sort((a:Review, b:Review) => {\n            if (b.date > a.date) {\n              return 1;\n            }\n            if (a.date < b.date) {\n              return -1;\n            }\n            return -1;\n          })\n          .slice(0, MAX_REVIEWS)\n          .map((item) => {\n            const dateInstance = new Date(item.date);\n            const month = MONTH_NAMES[dateInstance.getMonth()];\n            const year = dateInstance.getFullYear();\n            const date = `${month} ${year}` ;\n            const dateISO = dateInstance.toISOString().slice(0, 10);\n            const stars = `${Math.floor(item.stars) * 20}%`;\n\n            return (\n              <li key={item.id} className=\"reviews__item\">\n                <div className=\"reviews__user user\">\n                  <div className=\"reviews__avatar-wrapper user__avatar-wrapper\">\n                    <img className=\"reviews__avatar user__avatar\" src={item.user.img} width=\"54\" height=\"54\" alt=\"Reviews avatar\" />\n                  </div>\n                  <span className=\"reviews__user-name\">\n                    {item.user.name}\n                  </span>\n                </div>\n                <div className=\"reviews__info\">\n                  <div className=\"reviews__rating rating\">\n                    <div className=\"reviews__stars rating__stars\">\n                      <span style={{width: stars}}></span>\n                      <span className=\"visually-hidden\">Rating</span>\n                    </div>\n                  </div>\n                  <p className=\"reviews__text\">\n                    {item.text}\n                  </p>\n                  <time className=\"reviews__time\" dateTime={dateISO}>{date}</time>\n                </div>\n              </li>\n            );\n          })}\n      </ul>\n      {\n        isAuth &&\n        <OfferDetailReviewsForm />\n      }\n    </section>\n  );\n}\n\nexport default OfferDetailReviews;\n","import OfferItem from '../offer-item/offer-item';\nimport { Offer } from '../../types/types';\n\ntype Props = {\n  data: Offer[];\n}\n\nfunction OfferDetailNear({data}: Props): JSX.Element {\n  return (\n    <div className=\"container\">\n      <section className=\"near-places places\">\n        <h2 className=\"near-places__title\">Other places in the neighbourhood</h2>\n        <div className=\"near-places__list places__list\">\n          {data.map((item) => (\n            <div key={item.id} className=\"near-places__card\">\n              <OfferItem data={item} />\n            </div>\n          ))}\n        </div>\n      </section>\n    </div>\n  );\n}\n\nexport default OfferDetailNear;\n","import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { State } from '../../types/types';\nimport { fetchOfferItemAction, fetchNearListAction, fetchReviewListAction, postFavoriteListAction } from '../../store/api-actions';\nimport { reviewMessageAction ,reviewRatingAction  } from '../../store/action';\nimport { FavoriteEventParam } from '../../const';\n\nimport Header from '../header/header';\nimport OfferDetailGallery from '../offer-detail-gallery/offer-detail-gallery';\nimport OfferDetailDesc from '../offer-detail-desc/offer-detail-desc';\nimport OfferDetailReviews from '../offer-detail-reviews/offer-detail-reviews';\nimport OfferDetailNear from '../offer-detail-near/offer-detail-near';\nimport Map from '../map/map';\n\nfunction OfferDetail(): JSX.Element {\n  const params: {id: string} = useParams();\n  const {offerItem, nearList, reviewList, authStatus} = useSelector((state: State) => state);\n  const dispatch = useDispatch();\n  const isFeature = offerItem === null ? false : offerItem.isFeature;\n\n  useEffect(() => {\n    dispatch(fetchOfferItemAction(params.id));\n    dispatch(fetchNearListAction(params.id));\n    dispatch(fetchReviewListAction(params.id));\n    dispatch(reviewMessageAction(''));\n    dispatch(reviewRatingAction(0));\n  }, [params.id, dispatch]);\n\n  const handleClick = () => {\n    dispatch(postFavoriteListAction(params.id, isFeature, FavoriteEventParam.Offer));\n  };\n\n  const hasOffer = offerItem !== null;\n  const hasNears = nearList !== [];\n\n  let mapData = nearList;\n  let activeId = null;\n  if (hasOffer) {\n    mapData = [...nearList, offerItem];\n    activeId = offerItem.id;\n  }\n\n  return (\n    <div className=\"page\">\n      <Header />\n\n      <main className=\"page__main page__main--property\">\n        {\n          hasOffer && (\n            <section className=\"property\">\n              <OfferDetailGallery data={offerItem.gallery} />\n              <div className=\"property__container container\">\n                <div className=\"property__wrapper\">\n                  <OfferDetailDesc\n                    onFavoriteClick={handleClick}\n                    data={offerItem}\n                  />\n                  <OfferDetailReviews\n                    authStatus={authStatus}\n                    data={reviewList}\n                  />\n                </div>\n              </div>\n              <section className=\"property__map\">\n                <Map city={offerItem.city} data={mapData} activeId={activeId} />\n              </section>\n            </section>\n          )\n        }\n        {\n          hasNears && (\n            <OfferDetailNear data={nearList} />\n          )\n        }\n      </main>\n    </div>\n  );\n}\n\nexport default OfferDetail;\n","import { Link, generatePath } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { postFavoriteListAction } from '../../store/api-actions';\nimport { Offer } from '../../types/types';\nimport { AppRoute, FavoriteEventParam } from '../../const';\n\ntype Props = {\n  data: Offer;\n}\n\nfunction FavoritesCityPlace({data}: Props): JSX.Element {\n  const {id} = data;\n  const dispatch = useDispatch();\n  const featureClassName = data.isFeature ? ' place-card__bookmark-button--active' : '';\n  const stars = `${Math.floor(data.stars) * 20}%`;\n\n\n  return (\n    <article className=\"favorites__card place-card\">\n      <div className=\"favorites__image-wrapper place-card__image-wrapper\">\n        <Link to={generatePath(AppRoute.Offer, {id})}>\n          <img className=\"place-card__image\" src={data.img} width=\"150\" height=\"110\" alt=\"Place image\" />\n        </Link>\n      </div>\n      <div className=\"favorites__card-info place-card__info\">\n        <div className=\"place-card__price-wrapper\">\n          <div className=\"place-card__price\">\n            <b className=\"place-card__price-value\">&euro;{data.price}</b>\n            <span className=\"place-card__price-text\">&#47;&nbsp;night</span>\n          </div>\n          <button\n            className={`place-card__bookmark-button button${featureClassName}`}\n            type=\"button\"\n            onClick={() => {\n              dispatch(postFavoriteListAction(id, data.isFeature, FavoriteEventParam.Favorites));\n            }}\n          >\n            <svg className=\"place-card__bookmark-icon\" width=\"18\" height=\"19\">\n              <use xlinkHref=\"#icon-bookmark\"></use>\n            </svg>\n            <span className=\"visually-hidden\">In bookmarks</span>\n          </button>\n        </div>\n        <div className=\"place-card__rating rating\">\n          <div className=\"place-card__stars rating__stars\">\n            <span style={{width: stars}}></span>\n            <span className=\"visually-hidden\">Rating</span>\n          </div>\n        </div>\n        <h2 className=\"place-card__name\">\n          <Link to={generatePath(AppRoute.Offer, {id})}>\n            {data.name}\n          </Link>\n        </h2>\n        <p className=\"place-card__type\">{data.type}</p>\n      </div>\n    </article>\n  );\n}\n\nexport default FavoritesCityPlace;\n","import { Link } from 'react-router-dom';\nimport { AppRoute } from '../../const';\n\nimport FavoritesCityPlace from '../favorites-city-place/favorites-city-place';\nimport { Offer } from '../../types/types';\n\ntype Props = {\n  data: {\n    id: string;\n    name: string;\n    places: Offer[];\n  };\n}\n\nfunction FavoritesCity({data}: Props): JSX.Element {\n  return (\n    <li className=\"favorites__locations-items\">\n      <div className=\"favorites__locations locations locations--current\">\n        <div className=\"locations__item\">\n          <Link className=\"locations__item-link\" to={AppRoute.Main}>\n            <span>{data.name}</span>\n          </Link>\n        </div>\n      </div>\n      <div className=\"favorites__places\">\n        {data.places.map((item) => (\n          <FavoritesCityPlace\n            key={item.id}\n            data={item}\n          />\n        ))}\n      </div>\n    </li>\n  );\n}\n\nexport default FavoritesCity;\n","function FavoritesEmpty(): JSX.Element {\n  return (\n    <section className=\"favorites favorites--empty\">\n      <h1 className=\"visually-hidden\">Favorites (empty)</h1>\n      <div className=\"favorites__status-wrapper\">\n        <b className=\"favorites__status\">Nothing yet saved.</b>\n        <p className=\"favorites__status-description\">Save properties to narrow down search or plan your future trips.</p>\n      </div>\n    </section>\n  );\n}\n\nexport default FavoritesEmpty;\n","import { Link } from 'react-router-dom';\nimport { AppRoute } from '../../const';\n\nfunction Footer(): JSX.Element {\n  return (\n    <footer className=\"footer container\">\n      <Link className=\"footer__logo-link\" to={AppRoute.Main}>\n        <img className=\"footer__logo\" src=\"img/logo.svg\" alt=\"6 cities logo\" width=\"64\" height=\"33\" />\n      </Link>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { State } from '../../types/types';\nimport { fetchFavoriteListAction } from '../../store/api-actions';\n\nimport Header from '../header/header';\nimport FavoritesCity from '../favorites-city/favorites-city';\nimport FavoritesEmpty from '../favorites-empty/favorites-empty';\nimport Footer from '../footer/footer';\n\n\nfunction Favorites(): JSX.Element {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(fetchFavoriteListAction());\n  }, []);\n  const {favoriteList} = useSelector((state: State) => state);\n\n  const cityNames = new Set('');\n  favoriteList.forEach((item)=>{\n    cityNames.add(item.city.name);\n  });\n\n  const cities = [...cityNames].map((city, i) => ({\n    id: `${i}`,\n    name: city,\n    places: favoriteList.filter((place) => place.city.name === city),\n  }));\n\n  const hasCities = cities.length > 0;\n\n  return (\n    <div className=\"page\">\n      <Header />\n\n      <main className=\"page__main page__main--favorites\">\n        <div className=\"page__favorites-container container\">\n\n          <section className=\"favorites\">\n            <h1 className=\"favorites__title\">Saved listing</h1>\n            <ul className=\"favorites__list\">\n              {\n                hasCities ? (\n                  cities.map((item) => (\n                    <FavoritesCity\n                      key={item.id}\n                      data={item}\n                    />\n                  ))\n                ) : (\n                  <FavoritesEmpty />\n                )\n              }\n            </ul>\n          </section>\n        </div>\n      </main>\n\n      <Footer />\n    </div>\n  );\n}\n\nexport default Favorites;\n","import { Route, Redirect } from 'react-router-dom';\nimport { RouteProps } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { History} from 'history';\nimport { State } from '../../types/types';\nimport { AppRoute, AuthStatus } from '../../const';\n\ntype RenderFuncProps = {\n  history: History<unknown>;\n}\n\ntype Props = RouteProps & {\n  render: (props: RenderFuncProps) => JSX.Element;\n  status: AuthStatus;\n  redirect: AppRoute;\n}\n\nfunction PrivateRoute({exact, path, render, redirect, status}: Props): JSX.Element {\n  const {authStatus} = useSelector((state: State) => state);\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={(routeProps) => (\n        authStatus === status\n          ? render(routeProps)\n          : <Redirect to={redirect} />\n      )}\n    />\n  );\n}\n\nexport default PrivateRoute;\n","import { Link } from 'react-router-dom';\nimport Header from '../header/header';\n\nfunction NotFoundScreen(): JSX.Element {\n  return (\n    <div className=\"page page--gray\">\n      <main className=\"page__main\">\n        <Header />\n\n        <div className=\"container\">\n          <h1>404. Page not found</h1>\n          <Link to=\"/\">Вернуться на главную</Link>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default NotFoundScreen;\n","import { Router, Switch, Route } from 'react-router-dom';\nimport { AppRoute, AuthStatus } from '../../const';\nimport browserHistory from '../../browser-history';\n\nimport Home from '../home/home';\nimport Login from '../login/login';\nimport OfferDetail from '../offer-detail/offer-detail';\nimport Favorites from '../favorites/favorites';\nimport PrivateRoute from '../private-route/private-route';\nimport NotFoundScreen from '../not-found-screen/not-found-screen';\n\nfunction App(): JSX.Element {\n  return (\n    <Router history={browserHistory}>\n      <Switch>\n        <Route exact path={AppRoute.Main}>\n          <Home />\n        </Route>\n        <Route exact path={AppRoute.Offer}>\n          <OfferDetail />\n        </Route>\n        <PrivateRoute\n          exact\n          path={AppRoute.Favorites}\n          status={AuthStatus.Auth}\n          redirect={AppRoute.Login}\n          render={() => (\n            <Favorites />\n          )}\n        />\n        <PrivateRoute\n          exact\n          path={AppRoute.Login}\n          status={AuthStatus.NoAuth}\n          redirect={AppRoute.Main}\n          render={() => (\n            <Login />\n          )}\n        />\n        <Route>\n          <NotFoundScreen />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { configureStore } from '@reduxjs/toolkit';\nimport { Provider } from 'react-redux';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { reducer } from './store/reducer';\nimport { requireAuth } from './store/action';\nimport { checkAuthAction } from './store/api-actions';\nimport { redirect } from './store/middlewares/redirect';\nimport { ThunkAppDispatch } from './types/action';\nimport { createAPI } from './services/api';\nimport { AuthStatus } from './const';\nimport App from './components/app/app';\n\nconst api = createAPI(() => store.dispatch(requireAuth(AuthStatus.NoAuth)));\n\nconst store = configureStore({\n  reducer: reducer,\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      thunk: {\n        extraArgument: api,\n      },\n    }).concat(redirect),\n});\n\n(store.dispatch as ThunkAppDispatch)(checkAuthAction());\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <ToastContainer />\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}