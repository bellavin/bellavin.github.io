(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{152:function(e,t){},154:function(e,t){},177:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(25),s=a.n(r),c=a(22),l=a(26),u=a(60),o=(a(128),a(1));var d,m=function(){return Object(o.jsx)("header",{className:"header",children:Object(o.jsx)("h1",{children:"\u0413\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u044f \u043f\u043e\u0447\u0442\u0430"})})},j=a(221),b=a(222),h=a(216),f=a(219),p=a(220),x=a(225),y=a(79),O=a.n(y),g=a(103),_=a(38),v=a(104),M=a.n(v);!function(e){e.SetMessages="setMessages",e.SetPagination="setPagination",e.SetFilterByTime="setFilterByTime",e.SetFilterByNum="setFilterByNum",e.SetFilterByDuration="setFilterByDuration"}(d||(d={}));var N=a(105),T=a.n(N),D=a(106),B=a.n(D),F=new Date,S=new Date(F.setMonth(F.getMonth()-1)),w=function(e,t){return Math.floor(Math.random()*(t-e))+e},I=["https://8.react.pages.academy/static/music/Dance_Of_The_Fireflies.mp3","https://8.react.pages.academy/static/music/Oh_Fire.mp3","https://8.react.pages.academy/static/music/Mourning_Dove.mp3","https://8.react.pages.academy/static/music/19th_Floor.mp3"],C=function(e){var t,a,n,i=(t=I)[w(0,t.length-1)],r=(a=S,n=new Date,new Date(a.getTime()+Math.random()*(n.getTime()-a.getTime()))),s=e.From,c=e.To,l=e.MIME,u=e.Duration;return{id:B()(),received:r,from:s._text||"",to:c._text||"",date:{localTime:r,timeShift:Number(e.Date._attributes.timeShift)||0,text:e.Date._text},mime:{class:l._attributes.class||"",estimatedSize:Number(l._attributes.estimatedSize)||0,subtype:l._attributes.subtype||"",type:l._attributes.type||"",mime:{disposition:l.MIME._attributes.disposition||"",dispositionFilename:i||"",dispositionVoice:l.MIME._attributes["Disposition-voice"]||"",estimatedSize:Number(l.MIME._attributes.estimatedSize),partId:l.MIME._attributes.partID||"",subtype:l.MIME._attributes.subtype||"",type:l.MIME._attributes.type||""}},duration:Number(u._text)}},k=function(e){var t=T.a.xml2json(e,{compact:!0,spaces:2});return JSON.parse(t).Root.Data.map((function(e){return C(e)}))},E=[{value:"all",text:"\u0417\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"},{value:"today",text:"\u0417\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f"},{value:"yesterday",text:"\u0417\u0430 \u0432\u0447\u0435\u0440\u0430"},{value:"week",text:"\u0417\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044e\u044e \u043d\u0435\u0434\u0435\u043b\u044e"},{value:"month",text:"\u0417\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043c\u0435\u0441\u044f\u0446"},{value:"lastMonth",text:"\u0417\u0430 \u043f\u0440\u043e\u0448\u043b\u044b\u0439 \u043c\u0435\u0441\u044f\u0446"}],z=[{value:"1",text:"\u0414\u043e 1 \u043c\u0438\u043d\u0443\u0442\u044b"},{value:"3",text:"\u0414\u043e 3 \u043c\u0438\u043d\u0443\u0442"},{value:"5",text:"\u0414\u043e 5 \u043c\u0438\u043d\u0443\u0442"},{value:"10",text:"\u0414\u043e 10 \u043c\u0438\u043d\u0443\u0442"}],H=Object(_.a)(d.SetMessages,(function(e){return{payload:e}})),Y=Object(_.a)(d.SetPagination,(function(e){return{payload:e}})),J=Object(_.a)(d.SetFilterByTime,(function(e){return{payload:e}})),P=Object(_.a)(d.SetFilterByNum,(function(e){return{payload:e}})),L=Object(_.a)(d.SetFilterByDuration,(function(e){return{payload:e}}));var R=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e})),a=t.filterByTimeType,n=t.filterByNumType,i=t.filterByDurationType;return Object(o.jsx)("div",{className:"filter",children:Object(o.jsxs)("ul",{className:"filter__list",children:[Object(o.jsx)("li",{className:"filter__item",children:Object(o.jsxs)(j.a,{children:[Object(o.jsx)(b.a,{id:"time-filter-label",children:"\u041f\u0435\u0440\u0438\u043e\u0434"}),Object(o.jsx)(h.a,{labelId:"time-filter-label",id:"demo-simple-select-helper",value:a,label:"\u041f\u0435\u0440\u0438\u043e\u0434",onChange:function(t){e(J(t.target.value)),e(Y(0))},children:E.map((function(e){return Object(o.jsx)(f.a,{value:e.value,children:e.text},e.value)}))})]})}),Object(o.jsx)("li",{className:"filter__item",children:Object(o.jsx)(p.a,{id:"search",label:"\u041d\u043e\u043c\u0435\u0440",variant:"outlined",value:n,onChange:function(t){e(P(t.target.value)),e(Y(0))}})}),Object(o.jsx)("li",{className:"filter__item",children:Object(o.jsxs)(j.a,{children:[Object(o.jsx)(b.a,{id:"duration-filter-label",children:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c"}),Object(o.jsx)(h.a,{labelId:"duration-filter-label",id:"duration-filter",value:i,label:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",onChange:function(t){e(L(t.target.value)),e(Y(0))},children:z.map((function(e){return Object(o.jsx)(f.a,{value:e.value,children:e.text},e.value)}))})]})}),Object(o.jsx)("li",{className:"filter__item",children:Object(o.jsx)(x.a,{variant:"contained",onClick:function(){e(J("")),e(P("")),e(L("")),e(Y(0))},children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"})})]})})},V=a(14),q=function(e){var t=e.messages,a=e.filterByTimeType,n=e.filterByNumType,i=e.filterByDurationType;return Object(V.a)(t).sort((function(e,t){return t.received.getTime()-e.received.getTime()})).filter((function(e){return function(e,t){var a=new Date,n=(new Date).setHours(0,0,0,0);switch(t){case"today":return n===new Date(e.getTime()).setHours(0,0,0,0);case"yesterday":return n===new Date(e.getTime()).setHours(0,0,0,0)+864e5;case"week":return n<new Date(e.getTime()).setHours(0,0,0,0)+6048e5;case"month":return a.getMonth()===e.getMonth()&&a.getFullYear()===e.getFullYear();case"lastMonth":return a.getMonth()-1===e.getMonth()&&a.getFullYear()===e.getFullYear();default:return!0}}(e.received,a)})).filter((function(e){return t=e.from,a=n,t.includes(a);var t,a})).filter((function(e){return function(e,t){switch(t){case"1":return e<60;case"3":return e<180;case"5":return e<300;case"10":return e<600;default:return!0}}(e.duration,i)}))};var A=function(){var e=Object(l.c)(q),t=Object(l.c)((function(e){return e})).pagination,a=Object(V.a)(e).filter((function(e,a){return a>=10*t&&a<10*t+10}));return Object(o.jsx)("div",{className:"messages",children:Object(o.jsxs)("table",{className:"messages__table",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{className:"messages__tr",children:[Object(o.jsx)("th",{className:"messages__th",children:"\u0414\u0430\u0442\u0430"}),Object(o.jsx)("th",{className:"messages__th",children:"\u041d\u043e\u043c\u0435\u0440"}),Object(o.jsx)("th",{className:"messages__th",children:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c"}),Object(o.jsx)("th",{className:"messages__th messages__th--last",children:"\u0417\u0430\u043f\u0438\u0441\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"})]})}),Object(o.jsx)("tbody",{children:a.map((function(e){var t=e.received.toLocaleString(),a=Math.floor(e.duration/60)?"".concat(Math.floor(e.duration/60)," \u043c\u0438\u043d"):"",n=e.duration%60?"".concat(e.duration%60," \u0441\u0435\u043a"):"";return Object(o.jsxs)("tr",{className:"messages__tr",children:[Object(o.jsx)("td",{className:"messages__td",children:t}),Object(o.jsx)("td",{className:"messages__td",children:e.from}),Object(o.jsx)("td",{className:"messages__td",children:"".concat(a," ").concat(n)}),Object(o.jsx)("td",{className:"messages__td messages__td--last",children:Object(o.jsx)("audio",{controls:!0,src:e.mime.mime.dispositionFilename})})]},e.id)}))})]})})},G=a(218);var K=function(){var e=Object(l.b)(),t=Object(l.c)(q),a=Object(l.c)((function(e){return e})).pagination,n=Math.ceil(t.length/10);return Object(o.jsx)("div",{className:"bottom-pagination",children:n>1&&Object(o.jsx)(G.a,{count:n,page:a+1,color:"primary",onChange:function(t,a){e(Y(a-1))}})})};var Q=function(){return Object(o.jsxs)("div",{className:"app container",children:[Object(o.jsx)(m,{}),Object(o.jsx)(R,{}),Object(o.jsx)(A,{}),Object(o.jsx)(K,{})]})},U=Object(_.b)({messages:[],pagination:0,filterByTimeType:"",filterByNumType:"",filterByDurationType:""},(function(e){e.addCase(H,(function(e,t){e.messages=t.payload})).addCase(Y,(function(e,t){e.pagination=t.payload})).addCase(J,(function(e,t){e.filterByTimeType=t.payload})).addCase(P,(function(e,t){e.filterByNumType=t.payload})).addCase(L,(function(e,t){e.filterByDurationType=t.payload}))})),W=a(53),X=Object(c.e)(U,Object(c.a)(W.a));X.dispatch(function(){var e=Object(g.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("./mock/data.xml");case 3:a=e.sent,n=a.data,t(H(k(n))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.b.info("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),s.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsxs)(l.a,{store:X,children:[Object(o.jsx)(u.a,{}),Object(o.jsx)(Q,{})]})}),document.getElementById("root"))}},[[177,1,2]]]);
//# sourceMappingURL=main.3b039528.chunk.js.map